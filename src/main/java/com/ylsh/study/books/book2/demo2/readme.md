#第二章  
概念性问题需要弄清楚
##atomic 
###有哪些问题
从jdk 1.5开始提供,基于cas实现   
- ABA问题  
变量原来为A
线程1 修改变量为B 再修改回A
线程2 判断为A 以为没有变化，所以就直接修改了  
通过增加AtomicStampedReference来保证安全。每次自增1
- 死循环时间长消耗资源  
pause指令的作用：  
    可以进行延时  
    避免退出循环的时候，内存顺序冲突（假共享问题），数据无效，清空cpu流水线
- 只能保证单个变量的安全  
一段代码或者好几个 atomic变量是不能保证线程安全的
###保证线程安全的机制  
  cas(compare and swap) 
通过锁来实现。除了偏向锁，其它锁都是通过cas机制来获取锁和释放锁的
## valitile

### synchronied

### 锁
- 偏向锁
1.6以后有的

- 轻量级锁


- 重量级锁




